<html devsite="">
<head>
<title>gcloud compute url-maps add-path-matcher</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="project_path" value="/sdk/_project.yaml">
<meta name="book_path" value="/sdk/_book.yaml">
<!--
        THIS DOC IS GENERATED.  DO NOT EDIT.
        -->
<style>
  dd { margin-bottom: 1ex; }
  .hangingindent { padding-left: 1.5em; text-indent: -1.5em; }
</style>
</head>
<body><dl>
<section>
<dt>NAME</dt>
<dd>gcloud compute url-maps add-path-matcher - add a path matcher to a URL map</dd>
</section><section>
<dt>SYNOPSIS</dt>
<dd><pre>gcloud compute url-maps add-path-matcher NAME --default-service DEFAULT_SERVICE [--delete-orphaned-path-matcher] [--description DESCRIPTION] [--format FORMAT] [--help] [--log-http] [--existing-host EXISTING_HOST | --new-hosts NEW_HOST,[NEW_HOST,…]] --path-matcher-name PATH_MATCHER_NAME [--path-rules PATH=SERVICE,[PATH=SERVICE,…]] [--project PROJECT_ID] [--quiet, -q] [--trace-token TRACE_TOKEN] [-h]</pre></dd>
</section><section>
<dt>DESCRIPTION</dt>
<dd>
<code>gcloud compute url-maps add-path-matcher</code> is used to add a path matcher to a URL map. A path
matcher maps HTTP request paths to backend services. Each path
matcher must be referenced by at least one host rule. This
command can create a new host rule through the <code><var>--new-hosts</var></code>
flag or it can reconfigure an existing host rule to point to
the newly added path matcher using <code><var>--existing-host</var></code>. In the
latter case, if a path matcher is orphaned as a result of the
operation, this command will fail unless
<code><var>--delete-orphaned-path-matcher</var></code> is provided.</dd>
</section><section>
<dt>POSITIONAL ARGUMENTS</dt>
<dd><dl>
<dt class="hangingindent">
<code><var>NAME</var></code>
</dt>

<dd>
The name of the URL map.
</dd>

</dl></dd>
</section><section>
<dt>FLAGS</dt>
<dd><dl>
<dt>
<code>--default-service</code> <code><var>DEFAULT_SERVICE</var></code>
</dt>

<dd>
A backend service that will be used for requests that the path matcher cannot match.
</dd>


<dt>
<code>--delete-orphaned-path-matcher</code>
</dt>

<dd>
If provided and a path matcher is orphaned as a result of this command, the command removes the orphaned path matcher instead of failing.
</dd>


<dt>
<code>--description</code> <code><var>DESCRIPTION</var></code>
</dt>

<dd>
An optional, textual description for the path matcher.
</dd>


<dt>
<code>--existing-host</code> <code><var>EXISTING_HOST</var></code>
</dt>

<dd>
An existing host rule to tie the new path matcher to. Although
host rules can contain more than one host, only a single host
is needed to uniquely identify the host rule.
</dd>


<dt>
<code>--new-hosts</code> <code><var>NEW_HOST</var></code>,[<code><var>NEW_HOST</var></code>,…]
</dt>

<dd>
If specified, a new host rule with the given hosts is createdand the path matcher is tied to the new host rule.
</dd>


<dt>
<code>--path-matcher-name</code> <code><var>PATH_MATCHER_NAME</var></code>
</dt>

<dd>
The name to assign to the path matcher.
</dd>


<dt>
<code>--path-rules</code> <code><var>PATH</var></code>=<code><var>SERVICE</var></code>,[<code><var>PATH</var></code>=<code><var>SERVICE</var></code>,…]
</dt>

<dd>
Rules for mapping request paths to services.
</dd>

</dl></dd>
<section id="_global_flags">
<dt>GLOBAL FLAGS</dt>
<dd><dl>
<dt>
<code>--format</code> <code><var>FORMAT</var></code>
</dt>

<dd>
Specify a format for printed output. By default, a command-specific
human-friendly output format is used. Setting this flag to one of
the available options will serialize the result of the command in
the chosen format and print it to stdout. Supported formats are:
<code>json</code>, <code>text</code>, <code>yaml</code>.
</dd>


<dt>
<code>--help</code>
</dt>

<dd>
Display detailed help.
</dd>


<dt>
<code>--log-http</code>
</dt>

<dd>
Logs all HTTP server requests and responses to stderr.
</dd>


<dt>
<code>--project</code> <code><var>PROJECT_ID</var></code>
</dt>

<dd>
The Google Cloud Platform project name to use for this invocation. If
omitted then the current project is assumed.
</dd>


<dt>
<code>--quiet</code>, <code>-q</code>
</dt>

<dd>
Disable all interactive prompts when running gcloud commands. If input
is required, defaults will be used, or an error will be raised.
</dd>


<dt>
<code>--trace-token</code> <code><var>TRACE_TOKEN</var></code>
</dt>

<dd>
Token used to route traces of service requests for investigation of issues.
</dd>


<dt>
<code>-h</code>
</dt>

<dd>
Print a summary help and exit.
</dd>

</dl></dd>
</section>
</section><section>
<dt>EXAMPLES</dt>
<dd>To create a rule for mapping the paths <code><var>/search</var></code> and
<code><var>/search/*</var></code> to the hypothetical <code><var>search-service</var></code> and
<code><var>/images/*</var></code> to the <code><var>images-service</var></code> under the hosts
<code><var>google.com</var></code> and <code><var>*.google.com</var></code>, run:</dd>
<dd><pre>$ <A href="../../compute/url-maps/add-path-matcher">gcloud compute url-maps add-path-matcher</A> MY-URL-MAP \
    --path-matcher-name MY-MATCHER \
    --default-service MY-DEFAULT-SERVICE \
    --path-rules /search=search-service /search/*=search_service \
    /images/*=images-service --new-hosts google.com "*.google.com"</pre></dd>
<dd>Note that a default service must be provided to handle paths
for which there is no mapping.</dd>
</section><section>
<dt>NOTES</dt>
<dd>This command is in the Google Cloud SDK <code>compute</code> component. See
<a href="/sdk/gcloud/#gcloud.components">installing components</a>
if it is not installed.</dd>
</section>
</dl></body>
</html>

